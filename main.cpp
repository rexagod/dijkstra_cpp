#include<graphics.h>
#include<windows.h>
#include<iostream>
#include "algo.h"
typedef struct coord {
int x;
int y;
} ;
using namespace std;
int main()
{

    //Graphics Progamming starts here


    DWORD screenwidth= GetSystemMetrics(SM_CXSCREEN);
    DWORD screenheight= GetSystemMetrics(SM_CYSCREEN);
    int gd=DETECT;
    int gm;
    char a[100];
    int window1,window2;
    window1=initwindow(1000,screenheight,"");
    window2=initwindow(1000,1000,"");
    setcurrentwindow(window1);
    setcolor(RED);
    line(400,300,800,300);
    line(250,200,400,300);
    setcolor(YELLOW);
    line(600,200,600,650);
    setcolor(GREEN);
    line(100,320,350,320);
    line(350,320,400,300);
    line(350,320,300,380);
    setcolor(LIGHTBLUE);
    line(275,360,190,455);
    line(275,360,375,425);
    line(375,425,550,425);
    line(550,425,650,475);
    line(650,475,800,475);
    setcolor(MAGENTA);
    line(600,515,625,555);
    line(625,555,625,590);
    line(625,590,750,675);
    setcolor(WHITE);
    circle(400,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(405,150,"Inderlok");
    circle(450,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(455,80,"Shastri Nagar");
    circle(485,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(495,85,"Pratap Nagar");
    circle(520,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(525,120,"Pulbangash");
    circle(550,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(555,120,"Tis Hazari");
    circle(600,300,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(720,320,"Kashmere Gate");
    circle(700,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(700,85,"Shastri Park");
    circle(750,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(755,130,"Seelampur");
    circle(800,300,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(800,160,"Welcome");
    circle(600,200,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(675,180,"Vishwavidalaya");
    circle(600,230,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(660,220,"Vidhan");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(650,230,"Sabha");
    circle(600,260,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(650,260,"Civil");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(650,270,"Lines");
    circle(600,340,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(720,350,"Chandni Chowk");
    circle(600,370,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(720,380,"Chawri Bazar");
    circle(600,400,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(690,410,"New Delhi");
    circle(600,450,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(690,440,"Rajiv Chowk");
    circle(600,480,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,475,"Patel");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,490,"Chowk");
    circle(600,515,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,515,"Central");
     settextstyle(0,HORIZ_DIR,1);
    outtextxy(620,535,"Secartarait");
    circle(600,555,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(710,555,"Udyog Bhawan");
    circle(600,600,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,600,"Race");
     settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,610,"Course");
    circle(600,650,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,650,"Jor");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(590,660,"Bagh");
    circle(625,570,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(720,580,"Khan Market");
    circle(640,600,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(780,610,"JL Nehru Stadium");
    circle(700,640,4);
    settextstyle(0,HORIZ_DIR,2);
    outtextxy(820,640,"Jangpura");
    circle(250,200,4);
    settextstyle(0,VERT_DIR,1);
    outtextxy(240,50,"Netaji Subhash Place");
    circle(300,233,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(300,15,"Keshav Puram");
    circle(350,268,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(350,20,"Kanhaiya Nagar");
    circle(350,320,4);
    settextstyle(0,HORIZ_DIR,2);
    outtextxy(520,330,"Ashok Park");
    circle(325,350,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(525,370,"Sat Guru Ram Singh Marg");
    circle(300,378,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(300,390,"Kirti Nagar");
    /*circle(150,500,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(150,510,"Rajouri Garden");*/
    circle(190,455,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(190,475,"Ramesh Nagar");
    circle(230,410,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(240,430,"Moti Nagar");
    circle(375,425,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(375,435,"Shadipur");
    circle(425,425,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(425,435,"Patel Nagar");
    circle(475,425,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(475,435,"Rajender Place");
    circle(525,425,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(525,435,"Karol Bagh");
    circle(625,463,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(750,463,"Barakhamba Road");
    circle(650,475,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(670,490,"Mandi");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(670,505,"House");
    circle(800,475,4);
    settextstyle(0,HORIZ_DIR,2);
    outtextxy(970,475,"Yamuna Bank");
    circle(710,475,4);
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(750,495,"Pragati");
    settextstyle(0,HORIZ_DIR,1);
    outtextxy(750,510,"Maiden");
    circle(770,475,4);
    settextstyle(0,VERT_DIR,1);
    outtextxy(780,365,"Inderprastha");
    circle(100,320,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(100,180,"Madipur");
    circle(190,320,4);
    settextstyle(0,VERT_DIR,2);
    outtextxy(190,100,"Shivaji Park");
    circle(280,320,4);
    settextstyle(0,VERT_DIR,1);
    outtextxy(280,210,"Punjabi Bagh");

    //table of all the places
    setcurrentwindow(window2);
    rectangle(20,20,470,50);
    line(225,20,225,50);
    outtextxy(100,30,"ID");
    outtextxy(325,30,"PLACE");
    line(20,50,20,850);
    line(225,20,225,850);
    line(470,50,470,850);

    outtextxy(100,60,"1");
    outtextxy(235,60,"CIVIL LINE");
    outtextxy(100,80,"2");
    outtextxy(235,80,"VIDHAN SABHA");
    outtextxy(100,100,"3");
    outtextxy(235,100,"VISHWAVIDYALAYA");
    outtextxy(100,120,"4");
    outtextxy(235,120,"KASHMERE GATE");
    outtextxy(100,140,"5");
    outtextxy(235,140,"SHASTRI PARK");
    outtextxy(100,160,"6");
    outtextxy(235,160,"SEELAM PUR");
    outtextxy(100,180,"7");
    outtextxy(235,180,"WELCOME");
    outtextxy(100,200,"8");
    outtextxy(235,200,"CHANDNI CHOWK");
    outtextxy(100,220,"9");
    outtextxy(235,220,"CHAWRI BAZAR");
    outtextxy(100,240,"10");
    outtextxy(235,240,"NEW DELHI");
    outtextxy(100,260,"11");
    outtextxy(235,260,"RAJIV CHOWK");
    outtextxy(100,280,"12");
    outtextxy(235,280,"BARAHKHAMBA ROAD");
    outtextxy(100,300,"13");
    outtextxy(235,300,"MANDI HOUSE");
    outtextxy(100,320,"14");
    outtextxy(235,320,"PRAGATI MAIDAN");
    outtextxy(100,340,"15");
    outtextxy(235,340,"INDERPRASTHA");
    outtextxy(100,360,"16");
    outtextxy(235,360,"YAMUNNA BANK");
    outtextxy(100,380,"17");
    outtextxy(235,380,"PATEL CHOWK");
    outtextxy(100,400,"18");
    outtextxy(235,400,"CENTRAL SECRETARIAT");
    outtextxy(100,420,"19");
    outtextxy(235,420,"KHAN MARKET");
    outtextxy(100,440,"20");
    outtextxy(235,440,"JL NEHRU STADIUM");
    outtextxy(100,460,"21");
    outtextxy(235,460,"JANGPURA");
    outtextxy(100,480,"22");
    outtextxy(235,480,"UDYOG BHAWAN");
    outtextxy(100,500,"23");
    outtextxy(235,500,"RACE COURSE");
    outtextxy(100,520,"24");
    outtextxy(235,520,"JOR BAGH");
    outtextxy(100,540,"25");
    outtextxy(235,540,"TIS HAZARI");
    outtextxy(100,560,"26");
    outtextxy(235,560,"PULBANGASH");
    outtextxy(100,580,"27");
    outtextxy(235,580,"PRATAP NAGAR");
    outtextxy(100,600,"28");
    outtextxy(235,600,"SHASTRI NAGAR");
    outtextxy(100,620,"29");
    outtextxy(235,620,"INDERLOK");
    outtextxy(100,640,"30");
    outtextxy(235,640,"KANHAIYA NAGAR");
    outtextxy(100,660,"31");
    outtextxy(235,660,"KESHAV PURAM");
    outtextxy(100,680,"32");
    outtextxy(235,680,"NETAJI SUBASH PALACE");
    outtextxy(100,700,"33");
    outtextxy(235,700,"ASHOK PARK");
    outtextxy(100,720,"34");
    outtextxy(235,720,"PUNJABI BAGH");
    outtextxy(100,740,"35");
    outtextxy(235,740,"SHIVAJI PARK");
    outtextxy(100,760,"36");
    outtextxy(235,760,"MADIPUR");
    outtextxy(100,780,"37");
    outtextxy(235,780,"SATGURU RAM SINGH");
    outtextxy(100,800,"38");
    outtextxy(235,800,"KIRTI NAGAR");
    line(20,850,470,850);

    rectangle(520,20,970,50);
    line(725,20,725,50);
    outtextxy(600,30,"ID");
    outtextxy(825,30,"PLACE");
    line(520,50,520,200);
    line(725,20,725,200);
    line(970,50,970,200);

    outtextxy(600,60,"39");
    outtextxy(735,60,"MOTI NAGAR");
    outtextxy(600,80,"40");
    outtextxy(735,80,"RAMESH NAGAR");
    outtextxy(600,100,"41");
    outtextxy(735,100,"SHADIPUR");
    outtextxy(600,120,"42");
    outtextxy(735,120,"PATEL NAGAR");
    outtextxy(600,140,"43");
    outtextxy(735,140,"RAJENRA PLACE");
    outtextxy(600,160,"44");
    outtextxy(735,160,"KAROL BAGH");
    line(520,200,970,200);
 coord cord[45];

    //cord table
    cord[1].x=600;
    cord[1].y=260;
    cord[2].x=600;
    cord[2].y=230;
    cord[3].x=600;
    cord[3].y=200;
    cord[4].x=600;
    cord[4].y=300;
    cord[5].x=700;
    cord[5].y=300;
    cord[6].x=750;
    cord[6].y=300;
    cord[7].x=800;
    cord[7].y=300;
    cord[8].x=600;
    cord[8].y=340;
    cord[9].x=600;
    cord[9].y=370;
    cord[10].x=600;
    cord[10].y=400;
    cord[11].x=600;
    cord[11].y=450;
    cord[12].x=625;
    cord[12].y=463;
    cord[13].x=650;
    cord[13].y=475;
    cord[14].x=710;
    cord[14].y=475;
    cord[15].x=770;
    cord[15].y=475;
    cord[16].x=800;
    cord[16].y=475;
    cord[17].x=600;
    cord[17].y=480;
    cord[18].x=600;
    cord[18].y=515;
    cord[19].x=625;
    cord[19].y=570;
    cord[20].x=640;
    cord[20].y=600;
    cord[21].x=700;
    cord[21].y=640;
    cord[22].x=600;
    cord[22].y=555;
    cord[23].x=600;
    cord[23].y=600;
    cord[24].x=600;
    cord[24].y=650;
    cord[25].x=550;
    cord[25].y=300;
    cord[26].x=520;
    cord[26].y=300;
    cord[27].x=485;
    cord[27].y=300;
    cord[28].x=450;
    cord[28].y=300;
    cord[29].x=400;
    cord[29].y=300;
    cord[30].x=350;
    cord[30].y=268;
    cord[31].x=300;
    cord[31].y=233;
    cord[32].x=250;
    cord[32].y=200;
    cord[33].x=350;
    cord[33].y=320;
    cord[34].x=280;
    cord[34].y=320;
    cord[35].x=190;
    cord[35].y=320;
    cord[36].x=100;
    cord[36].y=320;
    cord[37].x=325;
    cord[37].y=350;
    cord[38].x=300;
    cord[38].y=378;
    cord[39].x=230;
    cord[39].y=410;
    cord[40].x=190;
    cord[40].y=455;
    cord[41].x=375;
    cord[41].y=425;
    cord[42].x=425;
    cord[42].y=425;
    cord[43].x=475;
    cord[43].y=425;
    cord[44].x=525;
    cord[44].y=425;


   //Graphics Programming ends here

   //Hard Coding the Graph

       // create the graph given in above fugure
    int V = 45;
    Graph g(V);

    //  making the desired graph of metro map
    g.addEdge(1,2);
    g.addEdge(2,3);
    g.addEdge(1,4);
    g.addEdge(4,5);
    g.addEdge(5,6);
    g.addEdge(6,7);
    g.addEdge(4,8);
    g.addEdge(8,9);
    g.addEdge(9,10);
    g.addEdge(10,11);
    g.addEdge(11,12);
    g.addEdge(12,13);
    g.addEdge(13,14);
    g.addEdge(14,15);
    g.addEdge(15,16);
    g.addEdge(11,17);
    g.addEdge(17,18);
    g.addEdge(18,19);
    g.addEdge(19,20);
    g.addEdge(20,21);
    g.addEdge(18,22);
    g.addEdge(22,23);
    g.addEdge(23,24);
    g.addEdge(4,25);
    g.addEdge(25,26);
    g.addEdge(26,27);
    g.addEdge(27,28);
    g.addEdge(28,29);
    g.addEdge(29,30);
    g.addEdge(30,31);
    g.addEdge(31,32);
    g.addEdge(29,33);
    g.addEdge(33,34);
    g.addEdge(34,35);
    g.addEdge(35,36);
    g.addEdge(33,37);
    g.addEdge(37,38);
    g.addEdge(38,39);
    g.addEdge(39,40);
    g.addEdge(38,41);
    g.addEdge(41,42);
    g.addEdge(42,43);
    g.addEdge(43,44);
    g.addEdge(44,11);

    cout<<"*******************************************************************************"<<endl;
    cout<<"*                                                                             *"<<endl;
    cout<<"*                      WELCOME TO METRO MAP ROUTE FINDER                      *"<<endl;
    cout<<"*                                                                             *"<<endl;
    cout<<"*******************************************************************************"<<endl;
    cout<<endl<<"Enter the ID of the Source station : ";
    int source;
    cin>>source;
    cout<<endl<<"Enter the ID of the Destination station : ";
    int destination;
    cin>>destination;
    int parent[45];
    g.shortestPath(destination,source,parent);
    int x =source;
  setcurrentwindow(window1);
 while(1)
 { cout<<x;
   circle(cord[x].x,cord[x].y,7);
   floodfill(cord[x].x,cord[x].y,WHITE);
   x=parent[x];
   if(x==0)
    break;
   cout<<"->";
 }cout<<endl;
   cout<<"*******************************************************************************"<<endl;
    cout<<"*                                                                             *"<<endl;
    cout<<"*                      Thank You!! Have a Nice day                            *"<<endl;
    cout<<"*                                                                             *"<<endl;
    cout<<"*******************************************************************************"<<endl;
    cout<<endl<<endl<<"Press any Key to Exit...."<<endl;
    getch();





    //getch();
    //closegraph();
}
